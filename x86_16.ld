ENTRY(begin)

SECTIONS
{
  . = 0x100;

  .text :
  {
    KEEP(*(booting))
    KEEP(*(.isr_vector))
    *(.text)
    *(.text.*)
    _etext = .;
    _sidata = .;
  } 
  .bss : 
  {
    _bss = .;
    _sbss = .;
    *(.bss)         /* Zero-filled run time allocate data memory */
    _ebss = .;
  } 


  .= ALIGN(32);

  /* Initialized data will initially be loaded in FLASH at the end of the .text section. */
  /* .data : AT(0x5000) */
  .data : 
  {
    _data = .;

    _sdata = .;
    __start_global_ctor__ = .;
    *(.init_array)
    __end_global_ctor__ = .;
    *(.ccm)
    *(.rodata)
    *(.rodata.*)

    *(.data)		/* Initialized data */
    _edata = .;
  } 

  .myheap (NOLOAD):
  {
    . = ALIGN(8);
    *(.myheap)
    . = ALIGN(8);
  }

/*
  .sig : AT(0x7DFE)
  {
      SHORT(0xaa55);
  }
*/

    /DISCARD/ :
    {
        *(.eh_frame*);
        *(.iplt*);
        *(.igot*);
        *(.rel*);
        *(.comment);
/* add any unwanted sections spewed out by your version of gcc and flags here */
    }

/*
  . = 0xfff0 - 0x2800;
  stack_area (NOLOAD): 
  {
    . = ALIGN(8);
    _stack_start = .;
    *(stack_area*) 
    _stack_end = .;
    . = ALIGN(8);
  } 
*/
}  
